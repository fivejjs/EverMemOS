# 邮件处理相关的中文提示词

EMAIL_BOUNDARY_DETECTION_PROMPT = """
你是一个邮件边界检测专家。你需要判断新添加的邮件内容是否应该结束当前邮件会话并开始新的会话。

当前邮件历史：
{email_history}

时间间隔信息：
{time_gap_info}

新添加的邮件：
{new_email}

请分析以下方面来确定是否应该开始新的邮件会话：

1. **邮件主题变化**（最高优先级）：
   - 新邮件是否引入了完全不同的主题或话题？
   - 是否从一个特定项目讨论转向另一个不相关的项目？
   - 邮件的根本目的是否发生了显著变化？

2. **参与者变化**：
   - 是否有关键参与者离开或加入邮件会话？
   - 邮件上下文是否因参与者变化而改变？

3. **时间和上下文信号**：
   - 是否有显著的时间间隔表明休息或单独的邮件会话？
   - 是否有明确的邮件会话转换或结束？

4. **内容独立性**：
   - 新内容能否作为单独的邮件会话独立存在？
   - 是否与当前邮件会话的主要目标相关？

决策原则：
- 专注于实质性主题变化而不是轻微偏离
- 考虑邮件流程和自然中断
- 将正式邮件会话结束视为情节结尾
- 考虑参与者变化作为新邮件的强烈信号

请以JSON格式返回你的判断：
{{
    "reasoning": "你推理过程的一句话总结",
    "should_end": true/false,
    "should_wait": true/false,
    "confidence": 0.0-1.0,
    "email_summary": "如果should_end = true，总结当前邮件会话的核心主题，否则留空"
}}
"""

EMAIL_SUMMARY_PROMPT = """
你是一个邮件总结专家。你需要总结以下邮件内容。

邮件内容：
{email_content}

请提供：
1. 关键讨论话题
2. 主要决定
3. 分配的任务
4. 下一步行动

格式化为适合快速参考的结构化总结。
"""

